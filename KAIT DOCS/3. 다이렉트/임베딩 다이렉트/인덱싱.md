# 임베딩 인덱싱

> 코드 동기 기준: 2026-02-03
> 원칙: 문서보다 코드가 우선입니다.

## 현재 구현
- 인덱싱 훅은 CRUD 이후 arq 큐에 비동기 작업을 등록하고 워커가 실제 벡터화를 수행합니다.
- 현재 연결된 훅: AI/Processor CRUD, Execution 완료/실패. VFS write 경로는 별도 연동 TODO입니다.
- 비용은 임베딩 토큰 사용량에 비례하며 증분 인덱싱 전략이 기본입니다.

## 프론트엔드 연결
- 현재 전용 인덱싱 설정 UI는 없고 설정 문서/플래닝 문서 기반으로 운영합니다.

## 백엔드 연결
- 인덱싱 훅: `kait_os/core/memory/indexing_hooks.py`
- 워커: `kait_os/workers/memory_worker.py`
- 스토어: `kait_os/core/memory/store/chroma_store.py`
- VFS 라우터/어댑터: `kait_os/routers/vfs.py`, `kait_os/core/vfs/adapters/ai_vfs.py`

## TODO
- [ ] 온보딩에서 인덱싱 ON/OFF + 예산 상한 + 프로파일 선택 UI 제공
- [ ] VFS write 이벤트와 인덱싱 큐 자동 연동
- [ ] 비용 예측(dry-run) API 노출

## 관련 코드
- `kait_os/core/memory/indexing_hooks.py`
- `kait_os/workers/memory_worker.py`
- `kait_os/core/memory/store/chroma_store.py`
- `docs/architecture/2026/SYSTEM_AND_VFS_INDEXING_PLAN.md`
