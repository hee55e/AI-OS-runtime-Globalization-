# AI 상호작용 및 설정

> 코드 동기 기준: 2026-02-03
> 원칙: 문서보다 코드가 우선입니다.

## 현재 구현
- Chat Panel은 SSE 스트림(`conversation/stream`)을 받아 토큰/도구/세그먼트를 렌더링합니다.
- 첨부는 UCF 멀티모달 파트로 전달되며 이미지/비디오/파일 맥락을 함께 보낼 수 있습니다.
- 응답 중단/재개/HITL 승인 흐름은 대화 라우터와 체크포인트 API가 처리합니다.
- Settings/Debug/Trigger/MCP/Connectors/Gallery는 동일 세션 컨텍스트를 공유합니다.

## 프론트엔드 연결
- 채팅 UI: `components/chat/ChatPanel.tsx`, `ChatInput.tsx`
- 바인딩/첨부 보조: `components/binding/BindingModal.tsx`, `components/gallery/GalleryModal.tsx`
- 상단 패널 토글: `components/shell/AppShell.tsx`

## 백엔드 연결
- 대화 스트림: `kait_os/routers/conversation/conversation.py`
- HITL resolve/resume: 동일 라우터의 `/hitl/resolve`, `/resume`
- 세션/메시지 저장: `kait_os/crud/chat/*`

## TODO
- [ ] “Edit 모드에서 현재 뷰포트 맥락 첨부” 동작 명세 확정
- [ ] 대형 멀티모달 입력 시 토큰 예산 초과 사전 차단 UX 추가

## 관련 코드
- `kait_os/kait_studio/src/components/chat/ChatPanel.tsx`
- `kait_os/kait_studio/src/components/chat/ChatInput.tsx`
- `kait_os/routers/conversation/conversation.py`
- `kait_os/core/common/content.py`
